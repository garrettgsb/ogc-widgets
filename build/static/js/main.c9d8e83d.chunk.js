(this.webpackJsonpwidgets=this.webpackJsonpwidgets||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(12),a=c.n(r),s=(c(18),c(19),c(4)),l=c(3),o=c(2),u=c(10);var d=function(e,t){return Object.entries(e).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(o.a)(e,2),c=t[0];t[1];return c})).reduce((function(e,c){return[].concat(Object(u.a)(e),[t.find((function(e){return e.title===c})).categories])}),[])},j=c(0),b=function(e){var t=e.categories,c=e.selectedCategory,n=e.setSelectedCategory,i=e.selections,r=e.appData,a=e.getPriceByCategory,s=d(i,r);return Object(j.jsx)("aside",{className:"sidebar cardlike",children:Object.values(t).map((function(e){var t=["menu-item","cardlike",c===e?"selected":"",s.includes(e)?"having-chosen":""].join(" "),l=s.filter((function(t){return t===e})).length,o=0===i.length?0:a(e,i,r);return Object(j.jsxs)("div",{className:t,onClick:function(){return n(e)},children:[Object(j.jsx)("h3",{children:e}),"Personalize"===e?Object(j.jsx)("small",{children:"Enter Project Info"}):Object(j.jsxs)("p",{style:{margin:0,padding:0},children:["$",o," ",Object(j.jsxs)("small",{style:{margin:0,padding:0},children:["(",l," selected)"]})]})]})}))})},h=function(e){var t=e.value/e.max*100,c="child-bar";return t>100&&(t=100,c="child-bar over-price"),Object(j.jsx)("div",{className:"parent-bar",children:Object(j.jsx)("div",{className:c,style:{width:"".concat(t,"%")}})})},O=Object(n.createContext)(),p=function(e){for(var t=e.selections,c=e.appData,i=Object(n.useContext)(O),r=i.title,a=i.budget,s=i.updateSelected,l=[],u=function(e,t){return e.reduce((function(e,c){return t[c.title]?e+c.price:e}),0)}(c,t),d=0,b=Object.entries(t);d<b.length;d++){var p=Object(o.a)(b[d],2),f=p[0];!0===p[1]&&l.push(f)}return Object(j.jsxs)("div",{className:"bottombar cardlike",children:[Object(j.jsxs)("aside",{className:"progress-bar",children:[Object(j.jsx)("h2",{children:r}),Object(j.jsxs)("h1",{children:["Total $",u]}),Object(j.jsxs)("p",{className:"budget-tracker",children:["$",u," / $",a]}),Object(j.jsx)(h,{value:u,max:a})]}),Object(j.jsxs)("div",{className:"item-pills",children:[Object(j.jsx)("h2",{children:"Your Build"}),Object(j.jsx)("div",{className:"item-pill-box",children:l.map((function(e){return Object(j.jsxs)("p",{onClick:function(){return s(e)},children:[e,"  X "]})}))})]})]})},f=function(){var e=Object(n.useContext)(O),t=e.title,c=e.updateTitle,i=e.budget,r=e.updateBudget,a=e.isOffgrid,s=e.updateIsOffgrid,l=Object(n.useState)("A couple of nights"),u=Object(o.a)(l,2),d=u[0],b=u[1];return Object(j.jsxs)("div",{className:"personalize cardlike",children:[Object(j.jsx)("h1",{children:"Hello,"}),Object(j.jsx)("h1",{children:t}),Object(j.jsx)("h4",{children:"Project Name"}),Object(j.jsx)("input",{type:"text",style:{zIndex:1},onChange:function(e){return c(e.target.value)}}),Object(j.jsxs)("h4",{children:["Current Budget $",i]}),Object(j.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("h4",{children:"Primarily Offgrid?"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"radio",checked:"yes"===a,value:"yes",onChange:function(e){return s(e.target.value)}}),"Yes"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"radio",checked:"no"===a,value:"no",onChange:function(e){return s(e.target.value)}}),"No"]}),Object(j.jsx)("h4",{children:"Typical Trip Length?"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"range",min:"1",max:"5",defaultValue:"1",onChange:function(e){return function(e){switch(e){case"1":b("A couple of nights");break;case"2":b("Less than 1 week");break;case"3":b("1 to 2 weeks");break;case"4":b("3 to 6 weeks");break;case"5":b("Months long expeditions");break;default:b("default")}}(e.target.value)},className:"trip-slider"}),Object(j.jsx)("p",{children:d})]}),Object(j.jsx)("p",{children:"terrain, full build?, "})]})},g=c(13);function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(t<1)throw new Error("Timed out trying to do initGoogleSheet");return window.gapi?window.gapi.load("client",(function(){return m(e)})):window.requestAnimationFrame((function(){return x(e,t-1)}))}function m(e){return window.gapi.client.init({apiKey:"AIzaSyD2B0JnFRVhdZL2ONrvxTugpXHYCQ_WG3s"}).then(e)}function v(e){var t=JSON.parse(e.body).values,c=Object(g.a)(t),n=c[0];return c.slice(1).map((function(e){return e.reduce((function(e,t,c){try{return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},n[c],JSON.parse(t)))}catch(i){return Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},n[c],t))}}),{})}))}var y=function(){!function(){0;0}();var e,t="https://sheets.googleapis.com/v4/spreadsheets/1z-8fpJltkh1IDnslK7nlS3KvBK_BwZF_xwQbQWrTNdU/values/Data",c=Object(n.useState)(!0),i=Object(o.a)(c,2),r=i[0],a=i[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),u=l[0],d=l[1];return e=function(){return a(!1)},Object(n.useEffect)((function(){var t=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src="https://apis.google.com/js/api.js",c.onreadystatechange=x(e),c.onload=x(e),t.appendChild(c)}),[e]),Object(n.useEffect)((function(){var e;return r?function(){}:window.gapi?(null===(e=window.gapi.client)||void 0===e?void 0:e.request)?void window.gapi.client.request({path:t}).then(v).then(d):(console.error("Expected GAPI to be initialized, and yet..."),function(){}):(console.error("Expected GAPI to be loaded, and yet..."),function(){})}),[r,t]),{loading:r,sheetData:u}},S=function(e){return Object(j.jsx)("main",{className:"one-third-two-thirds",children:e.children})},N=function(e){var t=e.items,c=e.setRightSideFocus,n=e.rightSideFocus,i=e.updateSelected,r=e.selections;return Object(j.jsx)("aside",{className:"one-third cardlike",children:t.map((function(e){var t=e===n?"selected":"",a=r[e.title]?"having-chosen":"",s=["cardlike","light","menu-item",t,a].join(" ");return Object(j.jsxs)("div",{className:s,onClick:function(){return c(e)},children:[Object(j.jsx)("h3",{children:e.title}),Object(j.jsxs)("p",{children:["$",e.price]}),Object(j.jsx)("button",{onClick:function(){return i(e.title)},children:a?"\u2796 Remove":"\u2795 Add"})]})}))})},C=function(e){var t=e.rightSideFocus;return Object(j.jsx)("aside",{className:"cardlike",children:void 0===t.title?Object(j.jsx)("h1",{children:"Click for more info"}):Object(j.jsxs)("div",{className:"item-layout",children:[Object(j.jsxs)("div",{className:"temp-left",children:[Object(j.jsx)("h1",{children:t.title}),t.addons?Object(j.jsxs)("p",{children:["$",t.price," - $",function(e,t){var c=Object.values(e);return Math.max.apply(Math,Object(u.a)(c))+t}(t.addons,t.price)]}):Object(j.jsxs)("p",{children:["$",t.price]}),Object(j.jsx)("h4",{children:"Pros/Cons"}),Object(j.jsxs)("ul",{className:"attribute-list",children:[t.pros.map((function(e){return Object(j.jsx)("li",{className:"pro",children:e})})),t.cons.map((function(e){return Object(j.jsx)("li",{className:"con",children:e})}))]}),Object(j.jsx)("ul",{className:"cons"}),Object(j.jsxs)("div",{className:"item-focus-right",children:[Object(j.jsx)("h4",{children:"Description"}),Object(j.jsx)("p",{children:t.blurb})]})]}),Object(j.jsx)("img",{src:"".concat(t.image),alt:"If you're reading this it means our pic is MIA",className:"col-image"})]})})},w=function(e){var t=e.items,c=e.rightSideFocus,n=e.setRightSideFocus,i=e.updateSelected,r=e.selections;return Object(j.jsxs)(S,{children:[Object(j.jsx)(N,{items:t,setRightSideFocus:n,rightSideFocus:c,updateSelected:i,selections:r}),Object(j.jsx)(C,{rightSideFocus:c})]})},k=function(e){var t=e.items,c=e.updateSelected,i=e.selections,r=Object(n.useState)([]),a=Object(o.a)(r,2),s=a[0],l=a[1],u=Object(n.useContext)(O).selectedCategory;return Object(j.jsx)("section",{className:"content-area",children:"Personalize"===u?Object(j.jsx)(f,{}):Object(j.jsx)(w,{items:t,rightSideFocus:s,setRightSideFocus:l,updateSelected:c,selections:i})})},F=function(){var e=y(),t=e.loading,c=e.sheetData,i=function(e){var t=e.map((function(e){return e.categories})).filter((function(e,t,c){return c.indexOf(e)===t})),c={};return t.forEach((function(e){return c[e]=e})),c}(c),r=Object(n.useState)("Personalize"),a=Object(o.a)(r,2),u=a[0],d=a[1],h=Object(n.useState)({}),f=Object(o.a)(h,2),g=f[0],x=f[1],m=Object(n.useState)("Give Your Van a Name"),v=Object(o.a)(m,2),S=v[0],N=v[1],C=Object(n.useState)(6e4),w=Object(o.a)(C,2),F=w[0],P=w[1],B=Object(n.useState)("yes"),I=Object(o.a)(B,2),D=I[0],T=I[1];function E(e){g[e]?x(Object(l.a)(Object(l.a)({},g),{},Object(s.a)({},e,!g[e]))):x(Object(l.a)(Object(l.a)({},g),{},Object(s.a)({},e,!0)))}if(t||!c)return Object(j.jsx)("pre",{children:"\u26a1\ufe0f Loading \u26a1\ufe0f"});var $=c.filter((function(e){return e.categories===u}));return Object(j.jsx)(O.Provider,{value:{title:S,selectedCategory:u,updateTitle:function(e){N(e)},budget:F,updateBudget:function(e){P(e)},updateSelected:E,isOffgrid:D,updateIsOffgrid:function(e){T(e)}},children:Object(j.jsxs)("main",{className:"layout-manager",children:[Object(j.jsx)(b,{categories:i,selectedCategory:u,setSelectedCategory:d,selections:g,appData:c,getPriceByCategory:function(e,t,c){return function(e,t,c){return c.filter((function(c){return function(e,t){return e.categories===t}(c,e)&&function(e,t){return Boolean(t[e.title])}(c,t)}))}(e,t,c).reduce((function(e,t){return e+t.price}),0)}}),Object(j.jsx)(k,{items:$,updateSelected:E,selections:g}),Object(j.jsx)(p,{selections:g,appData:c})]})})};var P=function(){return Object(j.jsx)("div",{className:"app",children:Object(j.jsx)(F,{})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root")),B()}},[[21,1,2]]]);
//# sourceMappingURL=main.c9d8e83d.chunk.js.map